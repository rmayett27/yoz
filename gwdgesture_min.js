(function(){"use strict";var f=function(a,b,d){var c;d?(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!0,d)):(c=document.createEvent("Event"),c.initEvent(a,!0,!0));b.dispatchEvent(c);return c};var g=["auto","none","pan-x","pan-y"],h=2,k=null,m=!1,n=null,p=null,q=[],t=function(a,b){var d=b.changedTouches[0];null==k&&(k=d.identifier,n=d.clientX,p=d.clientY,m=!1);r(b);s(a,"pointerover",b);s(a,"pointerdown",b)},u=function(a,b,d){if(!m){var c;if(c=1!=a&&null!=n){var e=d.touches[0];c=Math.abs(e.clientX-n);e=Math.abs(e.clientY-p);c=2==a?c>e:e>c}c?(s(b,"pointercancel",d),m=!0,k=null):(s(b,"pointermove",d),d.preventDefault());p=n=null}},w=function(a,b){m||(r(b),v(b),s(a,"pointerup",b),s(a,"pointerout",
b))},v=function(a){null!=k&&x(a,function(a){k==a.identifier&&(p=n=k=null)})},r=function(a){a=a.changedTouches[0];k==a.identifier&&(a={x:a.clientX,y:a.clientY},q.push(a),setTimeout(function(a){a=q.indexOf(a);-1<a&&q.splice(a,1)}.bind(null,a),2500))},y=function(a,b,d,c){var e=document.createEvent("Event");e.initEvent(a,!0,!0);e.clientX=d.clientX;e.clientY=d.clientY;e.pointerId=b;e.isPrimary=c;return e},z={},A=function(a){a=""+a.identifier;z[a]||(z[a]=h++);return z[a]},B=function(a,b,d){d.preventDefault();
var c;t:{for(c=0;c<q.length;c++){var e=Math.abs(d.clientY-q[c].y);if(25>=Math.abs(d.clientX-q[c].x)&&25>=e){c=!0;break t}}c=!1}c||a.dispatchEvent(y(b,1,d,!0))},C=function(a,b,d){a.dispatchEvent(y(b,d.pointerId,d,d.isPrimary))},s=function(a,b,d){x(d,function(c){a.dispatchEvent(y(b,A(c),c,k==c.identifier))})},x=function(a,b){for(var d=a.changedTouches,c=0,e=d.length;c<e;++c)b(d[c])};var D=function(a){var b=document.createEvent("Event");b.initEvent("tap",!0,!0);b.clientX=a.clientX;b.clientY=a.clientY;return b},E=function(a,b,d,c,e){var l=document.createEvent("Event");l.initEvent(a,!0,!0);l.dx=b;l.dy=d;l.ddx=c;l.ddy=e;return l};document.registerElement&&document.registerElement("gwd-gesture",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.a={};this.b=!1;this.l=f.bind(null,"hover",this);this.i=this.down_.bind(this);this.j=this.move_.bind(this);this.m=this.up_.bind(this);this.k=this.out_.bind(this);this.h=this.cancel_.bind(this);var a=1;switch(this.getAttribute("touch-action")){case "auto":a=0;break;case "pan-x":a=2;break;case "pan-y":a=3}var a=a||0,b=g[a];this.setAttribute("touch-action",
b);this.style.touchAction=b;this.style.msTouchAction=b;navigator.pointerEnabled||(navigator.msPointerEnabled?(this.addEventListener("MSPointerOver",C.bind(null,this,"pointerover"),!1),this.addEventListener("MSPointerDown",C.bind(null,this,"pointerdown"),!1),this.addEventListener("MSPointerMove",C.bind(null,this,"pointermove"),!1),this.addEventListener("MSPointerUp",C.bind(null,this,"pointerup"),!1),this.addEventListener("MSPointerOut",C.bind(null,this,"pointerout"),!1),this.addEventListener("MSPointerCancel",
C.bind(null,this,"pointercancel"),!1)):(this.addEventListener("mouseover",B.bind(null,this,"pointerover"),!1),this.addEventListener("mousedown",B.bind(null,this,"pointerdown"),!1),this.addEventListener("mousemove",B.bind(null,this,"pointermove"),!1),this.addEventListener("mouseup",B.bind(null,this,"pointerup"),!1),this.addEventListener("mouseout",B.bind(null,this,"pointerout"),!1),void 0!==window.ontouchstart&&(this.addEventListener("touchstart",t.bind(null,this),!1),0!=a&&this.addEventListener("touchmove",
u.bind(null,a,this),!1),this.addEventListener("touchend",w.bind(null,this),!1))))},enumerable:!0},attachedCallback:{value:function(){this.addEventListener("pointerover",this.l,!1);this.addEventListener("pointerdown",this.i,!1);this.addEventListener("pointermove",this.j,!1);this.addEventListener("pointerup",this.m,!1);this.addEventListener("pointerout",this.k,!1);this.addEventListener("pointercancel",this.h,!1)},enumerable:!0},detachedCallback:{value:function(){this.removeEventListener("pointerover",
this.l,!1);this.removeEventListener("pointerdown",this.i,!1);this.removeEventListener("pointermove",this.j,!1);this.removeEventListener("pointerup",this.m,!1);this.removeEventListener("pointerout",this.k,!1);this.removeEventListener("pointercancel",this.h,!1)},enumerable:!0},down_:{value:function(a){a.isPrimary&&(this.addPointer_(a),this.b=!1)},enumerable:!1},move_:{value:function(a){var b=this.a[""+a.pointerId];if(b){if(10<Math.abs(b.c-a.clientX)||10<Math.abs(b.d-a.clientY))this.b=!0;b.g||(this.dispatchEvent(E("trackstart",
0,0,0,0)),b.g=!0);this.dispatchEvent(E("track",a.clientX-b.c,a.clientY-b.d,a.clientX-b.e,a.clientY-b.f));b.e=a.clientX;b.f=a.clientY}},enumerable:!1},up_:{value:function(a){this.upOut_(a)&&(this.b||this.dispatchEvent(D(a)))},enumerable:!1},out_:{value:function(a){this.upOut_(a);f("hoverend",this)},enumerable:!1},upOut_:{value:function(a){var b=this.a[""+a.pointerId];b&&(b.g&&this.dispatchEvent(E("trackend",a.clientX-b.c,a.clientY-b.d,a.clientX-b.e,a.clientY-b.f)),this.removePointer_(a));return b},
enumerable:!1},cancel_:{value:function(a){this.removePointer_(a);this.b=!0},enumerable:!1},removePointer_:{value:function(a){a=""+a.pointerId;this.a[a]&&delete this.a[a]},enumerable:!1},addPointer_:{value:function(a){var b=""+a.pointerId;this.a[b]||(this.a[b]={c:a.clientX,d:a.clientY,e:a.clientX,f:a.clientY,g:!1})},enumerable:!1}})});})()
